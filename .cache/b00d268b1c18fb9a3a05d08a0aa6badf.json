{"dependencies":[],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction createRenderStep(startRenderLoop) {\n    var functionsToRun = [];\n    var functionsToRunNextFrame = [];\n    var numThisFrame = 0;\n    var isProcessing = false;\n    var i = 0;\n    return {\n        cancel: function (callback) {\n            var indexOfCallback = functionsToRunNextFrame.indexOf(callback);\n            if (indexOfCallback !== -1) {\n                functionsToRunNextFrame.splice(indexOfCallback, 1);\n            }\n        },\n        process: function () {\n            isProcessing = true;\n            _a = [functionsToRunNextFrame, functionsToRun], functionsToRun = _a[0], functionsToRunNextFrame = _a[1];\n            functionsToRunNextFrame.length = 0;\n            numThisFrame = functionsToRun.length;\n            for (i = 0; i < numThisFrame; i++) {\n                functionsToRun[i]();\n            }\n            isProcessing = false;\n            var _a;\n        },\n        schedule: function (callback, immediate) {\n            if (immediate === void 0) { immediate = false; }\n            startRenderLoop();\n            var addToCurrentBuffer = immediate && isProcessing;\n            var buffer = addToCurrentBuffer ? functionsToRun : functionsToRunNextFrame;\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentBuffer) {\n                    numThisFrame = functionsToRun.length;\n                }\n            }\n        },\n    };\n}\nexports.default = createRenderStep;\n//# sourceMappingURL=create-render-step.js.map"},"hash":"9f3edec3a3006e946ae40d84100a5df9"}